<!DOCTYPE html>
<html lang="cs">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Sledov√°n√≠ v√Ωstup≈Ø</title>
	<style>
		
	</style>
</head>
<body>
	<h1>Seznam v√Ωstupn√≠ch za≈ô√≠zen√≠</h1>
	

	<ul id="outputs">
	
	</ul>

	


    <script>
    // üïí Ka≈æd√© 2 sekundy naƒçti data z Flasku
    async function fetchData() {
      try {
        

        const response = await fetch('/get_outputs');
        const data = await response.json();

        if (Object.getOwnPropertyNames(data).length > document.getElementById("outputs").children.length){
        for (let i=0;i<Object.keys(data).length;i++){
            const label = document.createElement("li");
            label.id = `output_${i+1}`;
            label.name = `output_${i+1}`;
            document.getElementById("outputs").appendChild(label);
        }}

        var outputList = document.getElementById("outputs").children;


       let i = 0;
        for (const [key, value] of Object.entries(data)) {
        outputList[i].innerText = `V√Ωstupn√≠ za≈ô√≠zen√≠ ${key}: ${value}`;
        i++;}
      } catch (error) {
        document.getElementById('output_1').innerText = 'Chyba p≈ôi naƒç√≠t√°n√≠ dat!';
      }
    }

    // üîÅ Spou≈°tƒõn√≠ cyklicky ka≈æd√© 2 sekundy
    fetchData(); // hned p≈ôi naƒçten√≠
    setInterval(fetchData, 1000);
    </script>
</body>
</html>

